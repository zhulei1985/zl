void PrintGuide()
{
	print("¼òÒ×ÁÄÌìÊÒÖ¸Áî:");
	print("×¢²áÕËºÅ: RegisterAccount [ÕËºÅ] [ÃÜÂë]");
	print("µÇÂ¼ÕËºÅ: LoginAccount [ÕËºÅ] [ÃÜÂë]");
	print("·¢ËÍÏûÏ¢(ÐèÒªµÇÂ¼): Talk [ÄÚÈÝ]");
}

void Error_CannotRunScript()
{
	print("Ö¸Áî´íÎó»òÊÇÃ»ÓÐÈ¨ÏÞ");
}

void RegisterFail()
{
	print("×¢²áÊ§°Ü");
}

void LoginFail()
{
	print("µÇÂ¼Ê§°Ü");
}

void RegisterSuccess()
{
	print("×¢²á³É¹¦");
}

void LoginSuccess()
{
	print("µÇÂ¼³É¹¦");
}
void SendMessage(CAccount pAccount, string strContent, Connector pClient )
{
	print(pAccount->GetNickName()+":"+strContent);
}
void main()
{
	Connector pClient = NewConnector("127.0.0.1",9998);
	pClient->SetHeadProtocol("inner","client","123456");
	pClient->SetScriptLimit("Error_CannotRunScript",1);
	pClient->SetScriptLimit("RegisterFail",1);
	pClient->SetScriptLimit("LoginFail",1);
	pClient->SetScriptLimit("RegisterSuccess",1);
	pClient->SetScriptLimit("LoginSuccess",1);
	pClient->SetScriptLimit("SendMessage",1);

	while (pClient->IsConnect()==0)
	{
		wait(1);
	}

	print("connect...ok");

	PrintGuide();

	while (1)
	{
		string str = UserInput();
		if (str == "")
		{
			PrintGuide();
		}
		else
		{
			pClient->RunScript(0,ExecuteCommand(str));
		}

		//print(str);
		wait(1);
	}
}